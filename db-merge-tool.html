<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2019-06-14 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20190614" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Obevo &#x2013; DB Merge Tool</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarEnabled">
                      <a href="https://github.com/goldmansachs/obevo">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
      <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
        <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
            <ul class="nav">
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting Started <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="index.html" title="Intro">Intro</a></li>
            <li><a href="overview.html" title="Overview">Overview</a></li>
            <li><a href="setup.html" title="Setup">Setup</a></li>
            <li><a href="support.html" title="Help and Support">Help and Support</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Technical Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="db-project-structure.html" title="DB Project Structure">DB Project Structure</a></li>
            <li><a href="environment-management.html" title="Environment Management">Environment Management</a></li>
            <li><a href="permission-management.html" title="Permission Management">Permission Management</a></li>
            <li><a href="error-handling.html" title="Error-Handling">Error-Handling</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="command-line-api.html" title="Command-line API">Command-line API</a></li>
            <li><a href="java-api.html" title="Java API">Java API</a></li>
            <li><a href="maven-api.html" title="Maven plugin API">Maven plugin API</a></li>
            <li><a href="gradle-api.html" title="Gradle API">Gradle API</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Advanced Topics <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="db-project-best-practices.html" title="DB Project Best Practices">DB Project Best Practices</a></li>
            <li><a href="rollback.html" title="Rollback">Rollback</a></li>
            <li><a href="multiple-schema-management.html" title="Multiple Schema Management">Multiple Schema Management</a></li>
            <li><a href="schema-and-config-packaging.html" title="Separate Schema and Config Packaging">Separate Schema and Config Packaging</a></li>
            <li><a href="in-memory-db-testing.html" title="In-memory DB Testing">In-memory DB Testing</a></li>
            <li><a href="parallel-deploy-execution.html" title="Parallel Deploy Execution">Parallel Deploy Execution</a></li>
            <li><a href="orm-integration.html" title="ORM Integration">ORM Integration</a></li>
            <li><a href="baseline-validation.html" title="Baseline DDL Validation">Baseline DDL Validation</a></li>
            <li><a href="phased-deployments.html" title="Phased Deployments">Phased Deployments</a></li>
            <li><a href="incremental-change-code-cleanup.html" title="Incremental Change Code Cleanup">Incremental Change Code Cleanup</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform-Specific Details <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="platform-listing.html" title="Platform Listing">Platform Listing</a></li>
            <li><a href="db2-notes.html" title="DB2">DB2</a></li>
            <li><a href="general-db-notes.html" title="HSQLDB">HSQLDB</a></li>
            <li><a href="general-db-notes.html" title="H2">H2</a></li>
            <li><a href="mongodb-notes.html" title="MongoDB">MongoDB</a></li>
            <li><a href="oracle-notes.html" title="Oracle">Oracle</a></li>
            <li><a href="postgresql-notes.html" title="PostgreSQL">PostgreSQL</a></li>
            <li><a href="redshift-notes.html" title="Redshift">Redshift</a></li>
            <li><a href="sybase-ase-notes.html" title="SQL Server">SQL Server</a></li>
            <li><a href="sybase-ase-notes.html" title="Sybase ASE">Sybase ASE</a></li>
            <li><a href="general-db-notes.html" title="Sybase IQ">Sybase IQ</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Onboarding Guide <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="onboarding-guide.html" title="Which onboarding to choose?">Which onboarding to choose?</a></li>
            <li><a href="new-onboarding-guide.html" title="New Systems">New Systems</a></li>
            <li><a href="existing-onboarding-guide.html" title="Existing Systems">Existing Systems</a></li>
            <li><a href="existing-diverging-onboarding-guide.html" title="Existing Systems with Diverging Shards">Existing Systems with Diverging Shards</a></li>
            <li><a href="legacy-onboarding-guide.html" title="Legacy Onboarding - Legacy Systems">Legacy Onboarding - Legacy Systems</a></li>
            <li><a href="db-merge-tool.html" title="DB Merge Tool">DB Merge Tool</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developer Information <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li class="dropdown-submenu">
<a href="developer-guide.html" title="Developer Guide">Developer Guide</a>
              <ul class="dropdown-menu">
                  <li><a href="dev-setup-docker.html" title="Docker-based Test DB Setup">Docker-based Test DB Setup</a></li>
                  <li><a href="dev-setup-amazon.html" title="Amazon RDS DB Setup">Amazon RDS DB Setup</a></li>
                  <li><a href="dev-setup-sybase-ase.html" title="Sybase ASE Test DB Setup">Sybase ASE Test DB Setup</a></li>
              </ul>
            </li>
            <li><a href="design-walkthrough.html" title="Design Walkthrough">Design Walkthrough</a></li>
        </ul>
      </li>
              </ul>
            </div>
        </div>
      </div>
    </div>
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="./" id="bannerLeft"><h2>Obevo</h2>
</a></div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li class=""><a href="./" title="Obevo">Obevo</a><span class="divider">/</span></li>
    <li class="active ">DB Merge Tool</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2019-06-14</li>
          <li id="projectVersion" class="pull-right">Version: master-SNAPSHOT</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Getting Started</li>
    <li><a href="index.html" title="Intro"><span class="none"></span>Intro</a>  </li>
    <li><a href="overview.html" title="Overview"><span class="none"></span>Overview</a>  </li>
    <li><a href="setup.html" title="Setup"><span class="none"></span>Setup</a>  </li>
    <li><a href="support.html" title="Help and Support"><span class="none"></span>Help and Support</a>  </li>
          <li class="nav-header">Technical Documentation</li>
    <li><a href="db-project-structure.html" title="DB Project Structure"><span class="none"></span>DB Project Structure</a>  </li>
    <li><a href="environment-management.html" title="Environment Management"><span class="none"></span>Environment Management</a>  </li>
    <li><a href="permission-management.html" title="Permission Management"><span class="none"></span>Permission Management</a>  </li>
    <li><a href="error-handling.html" title="Error-Handling"><span class="none"></span>Error-Handling</a>  </li>
          <li class="nav-header">API Documentation</li>
    <li><a href="command-line-api.html" title="Command-line API"><span class="none"></span>Command-line API</a>  </li>
    <li><a href="java-api.html" title="Java API"><span class="none"></span>Java API</a>  </li>
    <li><a href="maven-api.html" title="Maven plugin API"><span class="none"></span>Maven plugin API</a>  </li>
    <li><a href="gradle-api.html" title="Gradle API"><span class="none"></span>Gradle API</a>  </li>
          <li class="nav-header">Advanced Topics</li>
    <li><a href="db-project-best-practices.html" title="DB Project Best Practices"><span class="none"></span>DB Project Best Practices</a>  </li>
    <li><a href="rollback.html" title="Rollback"><span class="none"></span>Rollback</a>  </li>
    <li><a href="multiple-schema-management.html" title="Multiple Schema Management"><span class="none"></span>Multiple Schema Management</a>  </li>
    <li><a href="schema-and-config-packaging.html" title="Separate Schema and Config Packaging"><span class="none"></span>Separate Schema and Config Packaging</a>  </li>
    <li><a href="in-memory-db-testing.html" title="In-memory DB Testing"><span class="none"></span>In-memory DB Testing</a>  </li>
    <li><a href="parallel-deploy-execution.html" title="Parallel Deploy Execution"><span class="none"></span>Parallel Deploy Execution</a>  </li>
    <li><a href="orm-integration.html" title="ORM Integration"><span class="none"></span>ORM Integration</a>  </li>
    <li><a href="baseline-validation.html" title="Baseline DDL Validation"><span class="none"></span>Baseline DDL Validation</a>  </li>
    <li><a href="phased-deployments.html" title="Phased Deployments"><span class="none"></span>Phased Deployments</a>  </li>
    <li><a href="incremental-change-code-cleanup.html" title="Incremental Change Code Cleanup"><span class="none"></span>Incremental Change Code Cleanup</a>  </li>
          <li class="nav-header">Platform-Specific Details</li>
    <li><a href="platform-listing.html" title="Platform Listing"><span class="none"></span>Platform Listing</a>  </li>
    <li><a href="db2-notes.html" title="DB2"><span class="none"></span>DB2</a>  </li>
    <li><a href="general-db-notes.html" title="HSQLDB"><span class="none"></span>HSQLDB</a>  </li>
    <li><a href="general-db-notes.html" title="H2"><span class="none"></span>H2</a>  </li>
    <li><a href="mongodb-notes.html" title="MongoDB"><span class="none"></span>MongoDB</a>  </li>
    <li><a href="oracle-notes.html" title="Oracle"><span class="none"></span>Oracle</a>  </li>
    <li><a href="postgresql-notes.html" title="PostgreSQL"><span class="none"></span>PostgreSQL</a>  </li>
    <li><a href="redshift-notes.html" title="Redshift"><span class="none"></span>Redshift</a>  </li>
    <li><a href="sybase-ase-notes.html" title="SQL Server"><span class="none"></span>SQL Server</a>  </li>
    <li><a href="sybase-ase-notes.html" title="Sybase ASE"><span class="none"></span>Sybase ASE</a>  </li>
    <li><a href="general-db-notes.html" title="Sybase IQ"><span class="none"></span>Sybase IQ</a>  </li>
          <li class="nav-header">Onboarding Guide</li>
    <li><a href="onboarding-guide.html" title="Which onboarding to choose?"><span class="none"></span>Which onboarding to choose?</a>  </li>
    <li><a href="new-onboarding-guide.html" title="New Systems"><span class="none"></span>New Systems</a>  </li>
    <li><a href="existing-onboarding-guide.html" title="Existing Systems"><span class="none"></span>Existing Systems</a>  </li>
    <li><a href="existing-diverging-onboarding-guide.html" title="Existing Systems with Diverging Shards"><span class="none"></span>Existing Systems with Diverging Shards</a>  </li>
    <li><a href="legacy-onboarding-guide.html" title="Legacy Onboarding - Legacy Systems"><span class="none"></span>Legacy Onboarding - Legacy Systems</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>DB Merge Tool</a>
  </li>
          <li class="nav-header">Developer Information</li>
    <li><a href="developer-guide.html" title="Developer Guide"><span class="icon-chevron-down"></span>Developer Guide</a>
      <ul class="nav nav-list">
    <li><a href="dev-setup-docker.html" title="Docker-based Test DB Setup"><span class="none"></span>Docker-based Test DB Setup</a>  </li>
    <li><a href="dev-setup-amazon.html" title="Amazon RDS DB Setup"><span class="none"></span>Amazon RDS DB Setup</a>  </li>
    <li><a href="dev-setup-sybase-ase.html" title="Sybase ASE Test DB Setup"><span class="none"></span>Sybase ASE Test DB Setup</a>  </li>
      </ul>
  </li>
    <li><a href="design-walkthrough.html" title="Design Walkthrough"><span class="none"></span>Design Walkthrough</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<!--

    Copyright 2017 Goldman Sachs.
    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

--><h1>DB Merge Tool</h1>
<p>We have created a tool to help teams merge database schemas. i.e.</p>

<ol style="list-style-type: decimal">
  
<li>Generate a merged-view of your reverse-engineered files from the <a href="existing-onboarding-guide.html">Full Existing Onboarding Guide</a></li>
  
<li>Generating and executing the SQLs that can be applied to get the schemas to match each other</li>
</ol>
<h1>Use Case for the DB Merge Tool</h1>
<p>You should consider this step if you have the following use case:</p>

<ul>
  
<li>You have a single app that you consider &quot;production&quot;, but of which you have many sharded instances, say like product line or location.</li>
  
<li>For whatever reason (e.g. not applying schemas in a consistent manner to each instance), these schemas have diverged over time to the point where it is difficult to even migrate changes consistently across instances, or that you are very unsure on if a certain db object is the same across instances</li>
  
<li>However, there is enough similarity where you want to at least manage these in the same codebase, where you can maintain some &quot;common db objects&quot; that are applied to each schema</li>
</ul>
<p>High-level approach to resolve this:</p>
<p>1) Certainly, it would be nice if these schema definitions were consolidated before onboarding to Obevo. * In practical terms, it may be very time-consuming to do so, and a lack of appetite to do so given the number of cleanups</p>
<p>2) At the very least, it could be desirable to create a merged codebase with the common vs. instance-specific objects highlighted, so that</p>

<ol style="list-style-type: decimal">
  
<li>when developers make changes, they are aware if it is for a common table or an instance-specific table</li>
  
<li>over time, the team can slowly look to consolidate the tables by applying the changes to the schema using Obevo</li>
</ol>
<p>3) Once that merged view is created, teams can analyze the diffs and choose whether to leave them maintained separately, or to try to clean up the db. Obevo provides help to generate the diff SQLs if you choose.</p>
<p>NOTE - all the steps below can work to merge any number of instances (i.e. an n-way merge, not just a 2-way merge).</p>
<p>Here the steps on how to do each part of the merge:</p>
<h1>Merge Step 1 - Create the Merge Diff View</h1>
<p>Specific steps on how to do the merge:</p>
<p>1) Perform the reverse engineering steps for each instance/shard of your prod db (i.e. repeating steps 1-4 from the <a href="full-existing-onboarding-guide.html">Full Existing Onboarding Guide</a>). Note the DBs where your reverse-engineering output is generated</p>
<p>2) Execute the merge command, with the arguments and an example as below:</p>

<ul>
  
<li>outputDir - the folder where you want the merge output generated</li>
  
<li>dbMergeConfigFile - the path to a file describing your merge settings (see the example below for how the file is configured)</li>
</ul>

<div class="source">
<div class="source"><pre class="prettyprint">%OBEVO_HOME%\bin\deploy.bat DBREVENGMERGE -outputDir h:\merged-output -dbMergeConfigFile h:\myDbMergeConfig.txt
</pre></div></div>
<p>h:\myDbMergeConfig.txt contents:</p>

<div class="source">
<div class="source"><pre class="prettyprint"># Specify the DB Type you are working with
dbType=ORACLE
# First, list out all the instances
instances=instance1,instance2,instance3
# Then for each instance, define the inputDir where your reverse-engineered files from the previous step are
instance1.inputDir=h:\instance1dboutput
instance2.inputDir=h:\instance2dboutput
instance3.inputDir=h:\instance3dboutput
</pre></div></div>
<div class="section">
<div class="section">
<h3><a name="Example"></a>Example</h3>
<p>To walk through an example: let&#x2019;s say that for our example app, we have 3 instances: db1, db2, db3. The resulting directories are as follows:</p>
<p><img src="images/merge-pre-view.png" alt="Pre-Merge View" width="300px" /></p>
<p>Let&#x2019;s assume all these folders are in H:\mydboutput</p>
<p>The command to run the reverse engineering would be as follows:</p>

<div class="source">
<div class="source"><pre class="prettyprint">%OBEVO_HOME%\bin\deploy.bat DBREVENGMERGE -outputDir h:\merged-output -inputDirEntries h:\mergeConfig.txt
</pre></div></div>

<ul>
  
<li>Note that we expect the input directories to be the parent of the schema folders, not the parent of the db object folders</li>
</ul>
<p>h:\mergeConfig.txt contents:</p>

<div class="source">
<div class="source"><pre class="prettyprint">dbType=ORACLE
instances=db1,db2,db3
db1.inputDir=h:\mydboutput\db1
db2.inputDir=h:\mydboutput\db2
db3.inputDir=h:\mydboutput\db3
</pre></div></div>
<p>After running that command, the output is as follows.</p>
<p><img src="images/merge-post-view.png" alt="Post-Merge View" width="300px" /></p>
<p>These fall into 3 flavors:</p>
<p>1) Objects that are identical and exist in all instances</p>

<ul>
  
<li>Named as &lt;objectName&gt;.ddl (same file name as before)</li>
  
<li>Example: SAME_IN_ALL.ddl</li>
</ul>
<p>2) Objects that are not present in all instances, but identical in those present</p>

<ul>
  
<li>Named as &lt;objectName&gt;.instancesMissing.ddl</li>
  
<li>Example: SAME_IN_SOME.instancesMissing.ddl</li>
  
<li>Metadata Section: Specifies the instances that contain this object, and comments on which instances are missing</li>
</ul>

<div class="source">
<div class="source"><pre class="prettyprint">//// METADATA includeEnvs=&quot;db1*,db3*&quot; comment=&quot;missingInInstances_db2&quot;
</pre></div></div>
<p>3) Objects with differences in some instances</p>

<ul>
  
<li>Named as &lt;objectName&gt;.&lt;number&gt;.ddl</li>
  
<li>Example: DIFF_IN_ONE.0.ddl, DIFF_IN_ONE.1.ddl</li>
  
<li>Metadata Section: Specifies the instances that contain this version of the object</li>
</ul>

<div class="source">
<div class="source"><pre class="prettyprint">//// METADATA includeEnvs=&quot;db2*&quot;
</pre></div></div>
<p>From here, the assumption is that when you define your environment names (in the next step when you create system-config.xml), you should name the environment for that instance with that instance prefix. e.g. cd-dev, cd-uat1, cd-prod1, eq-dev, eq-qa, eq-prod, &#x2026; Fyi, this is done via the package-info.txt file stored in each folder (the merge step will generate this for you); will add more on this file in the &quot;Advanced Use Cases&quot; section below</p>
<h1>Merge Step 2 - Try to clean up the db by creating/executing SQLs for the merged view&quot;</h1>
<p><font color="red">PLEASE NOTE: This feature is an Alpha-quality version (i.e. early Incubation, not tried out by other teams). No work imminently planned on this, but we can look more into this if there is demand. Any brave souls who would like to try this out, please reach out to the <a href="support.html">Obevo team</a> first to coordinate. </font></p>
<p>Given the merge view, you can look to consolidate where possible if you are ambitious. The steps are different based on the objects that are different.</p>
<h1>For Stateless Objects (e.g. SP, view, static data)</h1>
<p>You basically just need to code for these tables to try to merge them. After all, these just incorporate logic, so if you wanted to combine, you&#x2019;d need the appropriate logic to take care of it. (or, you can choose to keep them separate)</p>
<p>For any cases where you have an &quot;only&quot; case, i.e. objects only deployed in some instances but not all, you can simply deploy the missing object to the other schemas.</p>
<h1>For Tables</h1>
<p>The tricky bit is for tables, as they are not stateless and require alters to get them in line.</p>
<p>What Obevo can assist you with is generating SQLs to create a &quot;merged view&quot; of the tables. This merged view is based on some heuristics, e.g.</p>

<ul>
  
<li>If columns are missing in some instances but not others, add them</li>
  
<li>If indexes/pks are missing in some instances but not others, add them</li>
  
<li>If columns exist in instances but have differences among them, e.g. nullability or data type, you will be notified and need to resolve them</li>
</ul>
<p>Obviously, you can choose not to use the proposals, or to leave them as is. The tooling simply provides you some visibility into it.</p>
<p>Steps to do this:</p>

<ol style="list-style-type: decimal">
  
<li>Deploy the schemas that you&#x2019;ve reverse-engineered to separate instances in your dev environment</li>
  
<li>Run the following command: (command looks mostly the same as above, except it is DBREVENG*TABLE*MERGE):</li>
</ol>

<div class="source">
<div class="source"><pre class="prettyprint">%OBEVO_HOME%\bin\deploy.bat DBREVENGTABLEMERGE -outputDir h:\merged-output -dbMergeConfigFile h:\myDbMergeConfig.txt
</pre></div></div>
<p>h:myDbMergeConfig.txt contents (this has more stuff too, now includes the db information):</p>

<div class="source">
<div class="source"><pre class="prettyprint">dbType=ORACLE
instances=instance1,instance2,instance3
# Then for each instance, define the inputDir where your reverse-engineered files from the previous step are
instance1.inputDir=h:\instance1dboutput
instance1.driverClassName=com.sybase.jdbc3.jdbc.SybDriver
instance1.url=jdbc:sybase:Tds:myserver1.me.com:1234
instance1.username=myuser1
instance1.password=mypass1
instance1.physicalSchema=INST1
instance2.inputDir=h:\instance2dboutput
instance2.driverClassName=com.sybase.jdbc3.jdbc.SybDriver
instance2.url=jdbc:sybase:Tds:myserver2.me.com:1234
instance2.username=myuser2
instance2.password=mypass2
instance2.physicalSchema=INST2
instance3.inputDir=h:\instance3dboutput
instance3.driverClassName=com.sybase.jdbc3.jdbc.SybDriver
instance3.url=jdbc:sybase:Tds:myserver3.me.com:1234
instance3.username=myuser3
instance3.password=mypass3
instance3.physicalSchema=INST3
</pre></div></div>
<p>Essentially, you add the db connection params, including the schema, basically to where you deployed to. The tool will do a diff among the tables and seeks to create a merged view of each table, i.e.</p>

<ul>
  
<li>If columns exist in B and not in A or C, generate alters to add them to A and C</li>
  
<li>If columns exist in A and not in B or C, generate alters to add them to B and C</li>
  
<li>If indices exist in B and C and not in A, generate a create-index to add them to A</li>
  
<li>If a column is nullable in A but not nullable in B, make it nullable in B, as that is compatible across instances (note - this one is not yet implemented)</li>
  
<li>If a primary key exists in A but the equivalent exists as a unique index in B, convert the unique index in B to a primary key</li>
</ul>
<p>There are certain differences that are not resolvable automatically. The tool flags these for you, e.g.</p>

<ul>
  
<li>Data type diff (e.g. varchar vs. int)</li>
</ul>
<p>The tool will just generate the SQLs and put them into a file format; it will not actually execute them. Hence, you are free to modify the SQLs as you choose. Worst-case, you can just use this for your analysis.</p>
<p>To execute it, do it manually. Yes, this is not automated and unlike Obevo! This is because this feature is still early (call it an &quot;alpha version&quot; and cleanup is tricky; we can add support for this in Obevo eventually to execute these cleanups, but for now, let&#x2019;s do this manually so that teams don&#x2019;t actually execute alters that they don&#x2019;t want to.</p>
<p>Assuming you choose to proceed w/ the cleanups: execute them in UAT and re-compare the schemas (e.g. using Aqua Data Studio). If you are happy, go ahead and execute them in prod. Then, reverse-engineer again to ensure you have the latest view of the ddls in your code, and thus you can go w/ 1 set of ddls for your environment</p>
<p>(now obviously, it may not be possible to clean up all objects; feel free to use the package-info.txt files and the //// METADATA includeEnvs=&#x2026; or excludeEnvs=&#x2026; as needed to segregate the files per environment)</p></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2017&#x2013;2019
<a href="http://www.goldmansachs.com/">Goldman Sachs</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
